<UserControl
    x:Class="Ryujinx.Ava.UI.Views.Settings.SettingsGraphicsView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="clr-namespace:Ryujinx.Ava.UI.Controls"
    xmlns:ui="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
    xmlns:locale="clr-namespace:Ryujinx.Ava.Common.Locale"
    xmlns:viewModels="clr-namespace:Ryujinx.Ava.UI.ViewModels"
    Design.Width="1000"
    mc:Ignorable="d"
    x:DataType="viewModels:SettingsViewModel">
    <Design.DataContext>
        <viewModels:SettingsViewModel />
    </Design.DataContext>
    <ScrollViewer
        Name="GraphicsPage"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        HorizontalScrollBarVisibility="Disabled"
        VerticalScrollBarVisibility="Auto">
        <Border Classes="settings">
            <StackPanel
                Margin="10"
                HorizontalAlignment="Stretch"
                Orientation="Vertical"
                Spacing="10">
                <TextBlock Classes="h1" Text="{locale:Locale SettingsTabGraphicsAPI}" />
                <StackPanel Margin="10,0,0,0" Orientation="Vertical" Spacing="10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Center"
                                ToolTip.Tip="{locale:Locale SettingsTabGraphicsBackendTooltip}"
                                Text="{locale:Locale SettingsTabGraphicsBackend}"
                                Width="250" />
                        <ComboBox Width="350"
                                HorizontalContentAlignment="Left"
                                ToolTip.Tip="{locale:Locale SettingsTabGraphicsBackendTooltip}"
                                SelectedIndex="{Binding GraphicsBackendIndex}">
                            <ComboBoxItem
                                IsVisible="{Binding IsVulkanAvailable}"
                                Content="Vulkan" />
                            <ComboBoxItem
                                IsEnabled="{Binding IsOpenGLAvailable}"
                                Content="OpenGL" />
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" IsVisible="{Binding IsVulkanSelected}">
                        <TextBlock VerticalAlignment="Center"
                                ToolTip.Tip="{locale:Locale SettingsTabGraphicsPreferredGpuTooltip}"
                                Text="{locale:Locale SettingsTabGraphicsPreferredGpu}"
                                Width="250" />
                        <ComboBox Width="350"
                                HorizontalContentAlignment="Left"
                                ToolTip.Tip="{locale:Locale SettingsTabGraphicsPreferredGpuTooltip}"
                                SelectedIndex="{Binding PreferredGpuIndex}"
                                ItemsSource="{Binding AvailableGpus}"/>
                    </StackPanel>
                </StackPanel>
                <Separator Height="1" />
                <TextBlock Classes="h1" Text="{locale:Locale SettingsTabGraphicsFeatures}" />
                <StackPanel Margin="10,0,0,0" Orientation="Vertical" Spacing="10">
                    <StackPanel Orientation="Vertical">
                        <CheckBox IsChecked="{Binding EnableShaderCache}"
                            ToolTip.Tip="{locale:Locale ShaderCacheToggleTooltip}">
                            <TextBlock Text="{locale:Locale SettingsTabGraphicsEnableShaderCache}" />
                        </CheckBox>
                        <CheckBox IsChecked="{Binding EnableTextureRecompression}"
                            ToolTip.Tip="{locale:Locale SettingsEnableTextureRecompressionTooltip}">
                            <TextBlock Text="{locale:Locale SettingsEnableTextureRecompression}" />
                        </CheckBox>
                        <CheckBox IsChecked="{Binding EnableMacroHLE}"
                            ToolTip.Tip="{locale:Locale SettingsEnableMacroHLETooltip}">
                            <TextBlock Text="{locale:Locale SettingsEnableMacroHLE}" />
                        </CheckBox>
                        <CheckBox IsChecked="{Binding EnableColorSpacePassthrough}"
                                  IsVisible="{Binding ColorSpacePassthroughAvailable}"
                            ToolTip.Tip="{locale:Locale SettingsEnableColorSpacePassthroughTooltip}">
                            <TextBlock Text="{locale:Locale SettingsEnableColorSpacePassthrough}" />
                        </CheckBox>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Center"
                                   ToolTip.Tip="{locale:Locale ResolutionScaleTooltip}"
                                   Text="{locale:Locale SettingsTabGraphicsResolutionScale}"
                                   Width="250" />
                        <ComboBox SelectedIndex="{Binding ResolutionScale}"
                                  Width="350"
                                  HorizontalContentAlignment="Left"
                                  ToolTip.Tip="{locale:Locale ResolutionScaleTooltip}">
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsResolutionScaleNative}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsResolutionScale2x}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsResolutionScale3x}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsResolutionScale4x}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsResolutionScaleCustom}" />
                        </ComboBox>
                        <ui:NumberBox
                            Margin="10,0,0,0"
                            ToolTip.Tip="{locale:Locale ResolutionScaleEntryTooltip}"
                            MinWidth="150"
                            SmallChange="0.1"
                            LargeChange="1"
                            SimpleNumberFormat="F2"
                            SpinButtonPlacementMode="Inline"
                            IsVisible="{Binding IsCustomResolutionScaleActive}"
                            Maximum="10"
                            Minimum="0.1"
                            Value="{Binding CustomResolutionScale}" />
                    </StackPanel>
                    <StackPanel
                        HorizontalAlignment="Stretch"
                        Orientation="Vertical"
                        Spacing="10">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center"
                                       ToolTip.Tip="{locale:Locale GraphicsAATooltip}"
                                       Text="{locale:Locale GraphicsAALabel}"
                                       Width="250" />
                            <ComboBox Width="350"
                                      HorizontalContentAlignment="Left"
                                      ToolTip.Tip="{locale:Locale GraphicsAATooltip}"
                                      SelectedIndex="{Binding AntiAliasingEffect}">
                                <ComboBoxItem
                                    Content="{locale:Locale SettingsTabLoggingGraphicsBackendLogLevelNone}" />
                                <ComboBoxItem
                                    Content="FXAA" />
                                <ComboBoxItem
                                    Content="{locale:Locale SmaaLow}" />
                                <ComboBoxItem
                                    Content="{locale:Locale SmaaMedium}" />
                                <ComboBoxItem
                                    Content="{locale:Locale SmaaHigh}" />
                                <ComboBoxItem
                                    Content="{locale:Locale SmaaUltra}" />
                            </ComboBox>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel
                        HorizontalAlignment="Stretch"
                        Orientation="Vertical"
                        Spacing="10">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center"
                                       ToolTip.Tip="{locale:Locale GraphicsScalingFilterTooltip}"
                                       Text="{locale:Locale GraphicsScalingFilterLabel}"
                                       Width="250" />
                            <ComboBox Width="350"
                                      HorizontalContentAlignment="Left"
                                      ToolTip.Tip="{locale:Locale GraphicsScalingFilterTooltip}"
                                      SelectedIndex="{Binding ScalingFilter}">
                                <ComboBoxItem
                                    Content="{locale:Locale GraphicsScalingFilterBilinear}" />
                                <ComboBoxItem
                                    Content="{locale:Locale GraphicsScalingFilterNearest}" />
                                <ComboBoxItem
                                    Content="{locale:Locale GraphicsScalingFilterFsr}" />
                                <ComboBoxItem
                                    Content="{locale:Locale GraphicsScalingFilterArea}" />
                            </ComboBox>
                            <controls:SliderScroll Value="{Binding ScalingFilterLevel}"
                                    ToolTip.Tip="{locale:Locale GraphicsScalingFilterLevelTooltip}"
                                    MinWidth="150"
                                    Margin="10,-3,0,0"
                                    Height="32"
                                    Padding="0,-5"
                                    IsVisible="{Binding IsScalingFilterActive}"
                                    TickFrequency="1"
                                    IsSnapToTickEnabled="True"
                                    LargeChange="10"
                                    SmallChange="1"
                                    VerticalAlignment="Center"
                                    Minimum="0"
                                    Maximum="100" />
                            <TextBlock Margin="5,0"
                                       Width="40"
                                       IsVisible="{Binding IsScalingFilterActive}"
                                       Text="{Binding ScalingFilterLevelText}"/>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Center"
                                   ToolTip.Tip="{locale:Locale AnisotropyTooltip}"
                                   Text="{locale:Locale SettingsTabGraphicsAnisotropicFiltering}"
                                   Width="250" />
                        <ComboBox SelectedIndex="{Binding MaxAnisotropy}"
                                  Width="350"
                                  HorizontalContentAlignment="Left"
                                  ToolTip.Tip="{locale:Locale AnisotropyTooltip}">
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAnisotropicFilteringAuto}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAnisotropicFiltering2x}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAnisotropicFiltering4x}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAnisotropicFiltering8x}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAnisotropicFiltering16x}" />
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Center"
                                   ToolTip.Tip="{locale:Locale AspectRatioTooltip}"
                                   Text="{locale:Locale SettingsTabGraphicsAspectRatio}"
                                   Width="250" />
                        <ComboBox SelectedIndex="{Binding AspectRatio}"
                                  Width="350"
                                  HorizontalContentAlignment="Left"
                                  ToolTip.Tip="{locale:Locale AspectRatioTooltip}">
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAspectRatio4x3}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAspectRatio16x9}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAspectRatio16x10}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAspectRatio21x9}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAspectRatio32x9}" />
                            <ComboBoxItem
                                Content="{locale:Locale SettingsTabGraphicsAspectRatioStretch}" />
                        </ComboBox>
                    </StackPanel>
                </StackPanel>
                <StackPanel
                    Margin="10,0,0,0"
                    HorizontalAlignment="Stretch"
                    Orientation="Vertical"
                    Spacing="10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Center"
                                   ToolTip.Tip="{locale:Locale GraphicsBackendThreadingTooltip}"
                                   Text="{locale:Locale SettingsTabGraphicsBackendMultithreading}"
                                   Width="250" />
                        <ComboBox Width="350"
                                  HorizontalContentAlignment="Left"
                                  ToolTip.Tip="{locale:Locale GalThreadingTooltip}"
                                  SelectedIndex="{Binding GraphicsBackendMultithreadingIndex}">
                            <ComboBoxItem
                                Content="{locale:Locale CommonAuto}" />
                            <ComboBoxItem
                                Content="{locale:Locale CommonOff}" />
                            <ComboBoxItem
                                Content="{locale:Locale CommonOn}" />
                        </ComboBox>
                    </StackPanel>
                </StackPanel>
                <Separator Height="1" />
                <TextBlock Classes="h1" Text="{locale:Locale SettingsTabGraphicsDeveloperOptions}" />
                <StackPanel
                    Margin="10,0,0,0"
                    HorizontalAlignment="Stretch"
                    Orientation="Vertical"
                    Spacing="10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock VerticalAlignment="Center"
                                   ToolTip.Tip="{locale:Locale ShaderDumpPathTooltip}"
                                   Text="{locale:Locale SettingsTabGraphicsShaderDumpPath}"
                                   Width="250" />
                        <TextBox Text="{Binding ShaderDumpPath}"
                                 Width="350"
                                 ToolTip.Tip="{locale:Locale ShaderDumpPathTooltip}" />
                    </StackPanel>
                </StackPanel>
            </StackPanel>
        </Border>
    </ScrollViewer>
</UserControl>
